{"version":3,"sources":["main.js"],"names":["testWebP","callback","webP","Image","height","support","document","className","classList","add","body","querySelector","lockPadding","querySelectorAll","modalLinks","unlock","length","_loop","modalLink","index","addEventListener","e","modalName","getAttribute","replace","modalOpen","getElementById","preventDefault","modalCloseIcon","_loop2","modalClose","el","curentModal","modalActive","target","closest","arguments","undefined","remove","doUnlock","bodyUnLock","lockPaddingValue","window","innerWidth","offsetWidth","bodyLock","style","paddingRight","setTimeout","timeout","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],"mappings":"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","file":"main.min.js","sourcesContent":["function testWebP(callback) {\r\n    var webP = new Image();\r\n    webP.onload = webP.onerror = function () {\r\n        callback(webP.height == 2);\r\n    };\r\n    webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\n\r\ntestWebP(function (support) {\r\n    let className = support === true ? 'webp' : 'no-webp';\r\n    document.documentElement.classList.add(className);\r\n});\r\n\r\n/*Модальные окна*/\r\n\r\nconst body = document.querySelector('body');\r\nconst lockPadding = document.querySelectorAll('.lock-padding');\r\nconst modalLinks = document.querySelectorAll('.modal-link');\r\nlet unlock = true;\r\nconst timeout = 800;\r\n\r\n\r\n// Клик по ссылке для открытия модального окна\r\nif (modalLinks.length > 0) {\r\n    for (let index = 0; index < modalLinks.length; index++) {\r\n        const modalLink = modalLinks[index];\r\n        modalLink.addEventListener(\"click\", function (e) {\r\n            const modalName = modalLink.getAttribute('href').replace('#', '');\r\n            const curentModal = document.getElementById(modalName);\r\n            modalOpen(curentModal);\r\n            e.preventDefault();\r\n        });\r\n    }\r\n}\r\n\r\n// Закрытие модального окна при клике\r\nconst modalCloseIcon = document.querySelectorAll('.modal__close-btn');\r\nif (modalCloseIcon.length > 0) {\r\n    for (let index = 0; index < modalCloseIcon.length; index++) {\r\n        const el = modalCloseIcon[index];\r\n        el.addEventListener(\"click\", function (e) {            \r\n            modalClose(el.closest('.modal'));\r\n            e.preventDefault();\r\n        });\r\n    }\r\n}\r\n\r\n// Открытие модального окна\r\nfunction modalOpen(curentModal) {\r\n    if (curentModal && unlock) {\r\n        const modalActive = document.querySelector('.modal--open');\r\n        if (modalActive) {\r\n            modalClose(modalActive, false);\r\n        } else {\r\n            bodyLock();\r\n        }\r\n        curentModal.classList.add('modal--open');\r\n        curentModal.addEventListener(\"click\", function (e) {\r\n            if (!e.target.closest('.modal__content')) {\r\n                modalClose(e.target.closest('.modal'));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n    if (unlock) {\r\n        modalActive.classList.remove('modal--open');\r\n        if (doUnlock) {\r\n            bodyUnLock();\r\n        }\r\n    }\r\n}\r\n\r\nfunction bodyLock() {\r\n\r\n    const lockPaddingValue = window.innerWidth - document.querySelector('main').offsetWidth + 'px';\r\n\r\n    if (lockPadding.length > 0) {\r\n        for (let index = 0; index < lockPadding.length; index++) {\r\n            const el = lockPadding[index];\r\n            el.style.paddingRight = lockPaddingValue;\r\n        }\r\n    }\r\n\r\n    body.style.paddingRight = lockPaddingValue;\r\n    body.classList.add('lock');\r\n\r\n    unlock = false;\r\n    setTimeout(function () {\r\n        unlock = true;\r\n    }, timeout);\r\n}\r\n\r\nfunction bodyUnLock() {\r\n    setTimeout(function () {\r\n        if (lockPadding.length > 0) {\r\n            for (let index = 0; index < lockPadding.length; index++) {\r\n                const el = lockPadding[index];\r\n                el.style.paddingRight =  '0px';\r\n            }\r\n        }\r\n\r\n        body.style.paddingRight = '0px';\r\n        body.classList.remove('lock');\r\n    }, timeout);\r\n\r\n    unlock = false;\r\n    setTimeout(function () {\r\n        unlock = true;\r\n    }, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n    if (e.which === 27) {\r\n        const modalActive = document.querySelector('.modal--open');\r\n        modalClose(modalActive);\r\n    }\r\n});\r\n\r\n(function () {\r\n    // проверяем поддержку\r\n    if (!Element.prototype.closest) {\r\n        // реализуем\r\n        Element.prototype.closest = function (css) {\r\n            var node = this;\r\n            while (node) {\r\n                if (node.matches(css)) return node;\r\n                else node = node.parentElement;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n})();\r\n\r\n(function () {\r\n    // проверяем поддержку\r\n    if (!Element.prototype.matches) {\r\n        // определяем свойство\r\n        Element.prototype.matches = Element.prototype.matchesSelector ||\r\n            Element.prototype.webkitMatchesSelector ||\r\n            Element.prototype.mozMatchesSelector ||\r\n            Element.prototype.msMatchesSelector;\r\n    }\r\n})();"]}